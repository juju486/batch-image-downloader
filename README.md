# 批量图片下载器

一个现代化的批量图片下载工具，支持压缩包下载和单张图片下载。

## 功能特性

- 🖼️ **批量下载**: 支持同时下载多张图片
- 📦 **压缩包下载**: 将所有图片打包成 ZIP 文件下载
- 🔄 **单张下载**: 逐个下载图片文件
- 📊 **进度显示**: 实时显示下载进度和状态
- 🎨 **现代UI**: 美观的响应式界面设计
- ⚡ **高性能**: 异步下载，支持大批量图片处理

## 安装依赖

```bash
npm install
```

## 启动服务

### 开发模式（推荐）
```bash
npm run dev
```

### 生产模式
```bash
npm start
```

服务启动后，打开浏览器访问 `http://localhost:3000`

## 使用方法

1. **输入图片链接**
   - 在文本框中输入图片链接
   - 支持多种格式：
     - 每行一个链接
     - 空格分隔的多个链接
     - 混合格式

2. **选择下载方式**
   - **下载为压缩包**: 将所有图片打包成 ZIP 文件，一次性下载
   - **逐个下载**: 每张图片单独下载到浏览器默认下载文件夹

3. **查看下载结果**
   - 实时显示下载进度
   - 查看成功/失败的详细信息
   - 自动生成下载报告

## 支持的图片格式

- JPG/JPEG
- PNG  
- GIF
- WebP
- BMP
- SVG

## 项目结构

```
批量图片下载/
├── index.html          # 前端页面
├── styles.css          # 样式文件
├── script.js           # 前端JavaScript
├── server.js           # Express服务器
├── package.json        # 项目配置
├── image-downloader.js # 原始下载脚本（命令行版本）
└── downloaded_images/  # 下载目录
```

## API 接口

### POST /download-zip
创建包含所有图片的ZIP压缩包

**请求体:**
```json
{
  "urls": ["图片链接1", "图片链接2", "..."]
}
```

**响应:**
- 成功: 返回ZIP文件流
- 失败: 返回错误信息

### GET /health
健康检查接口

**响应:**
```json
{
  "status": "ok",
  "timestamp": "2024-01-01T00:00:00.000Z"
}
```

## 命令行版本

项目还包含一个命令行版本的下载器 (`image-downloader.js`)：

```bash
node image-downloader.js "图片链接1" "图片链接2"
```

## 注意事项

1. **网络超时**: 单张图片下载超时时间为30秒
2. **文件命名**: 自动处理重复文件名，确保文件名安全
3. **错误处理**: 下载失败的图片会在ZIP包中包含错误信息文件
4. **浏览器限制**: 单张下载模式可能受浏览器下载限制影响

## 技术栈

- **前端**: HTML5, CSS3, Vanilla JavaScript
- **后端**: Node.js, Express
- **依赖**: 
  - `axios`: HTTP请求库
  - `archiver`: ZIP压缩库
  - `progress`: 进度条显示（命令行版本）

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！
